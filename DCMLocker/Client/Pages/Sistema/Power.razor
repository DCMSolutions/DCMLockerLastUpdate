@page "/Power"
@using System.Security.Claims
@using Microsoft.AspNetCore.Components.Authorization
@using DCMLocker.Shared
@using DCMLocker.Shared.Locker

@inject Authentication.MOFAuthenticationStateProvider AuthenticationStateProvider
@inject NavigationManager Navigation
@inject DCMLocker.Client.Cliente.TLockerCliente Cliente
<h3>Power</h3>
<p>Pulse el boton de reset para reinicial al locker.</p>
<button type="button" class="btn btn-warning btn-user btn-block" @onclick="Reset">Resetear locker</button>
<br/>
<br/>
<p>Pulse el boton de Apagar para apagar al locker dejando al mismo sin función.
    Para volver a función debera realizarlo manualmente en el dispositivo.</p>
<button type="button" class="btn btn-danger btn-user btn-block" @onclick="TurnOff">Apagar locker</button>

@code {
    protected async void Reset()
    {
       await Cliente.System_Reset();
    }
    protected async void TurnOff()
    {
        await Cliente.System_Shutdown();
    }
}
